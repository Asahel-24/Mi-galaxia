<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Te amo mi Sami ‚ù§Ô∏è</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
  font-family: Arial, Helvetica, sans-serif;
  color: white;
}

/* Texto principal */
#mensaje {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  padding: 14px 26px;
  border-radius: 999px;
  background: rgba(255,255,255,0.1);
  backdrop-filter: blur(10px);
  font-size: 20px;
  z-index: 10;
  animation: latido 2s infinite;
}

@keyframes latido {
  0% { transform: translateX(-50%) scale(1); }
  50% { transform: translateX(-50%) scale(1.08); }
  100% { transform: translateX(-50%) scale(1); }
}

/* Canvas galaxia */
canvas {
  position: fixed;
  inset: 0;
}

/* Corazones */
.heart {
  position: fixed;
  font-size: 22px;
  color: #4cff4c;
  animation: subir 8s linear forwards;
  pointer-events: none;
}

@keyframes subir {
  from {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  to {
    transform: translateY(-120vh) scale(1.6);
    opacity: 0;
  }
}

/* Reproductor */
#player {
  position: fixed;
  bottom: 12px;
  left: 10px;
  right: 10px;
  background: rgba(20,15,40,0.6);
  border-radius: 14px;
  padding: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
  z-index: 10;
}

button, input {
  border: none;
  border-radius: 10px;
  padding: 8px 12px;
}
</style>
</head>

<body>

<div id="mensaje">Te amo mi Sami‚ù§Ô∏è</div>

<canvas id="galaxia"></canvas>

<div id="player">
  <button onclick="audio.play()">‚ñ∂ Para mi Sami</button>
  <input type="file" accept="audio/*" onchange="cargarMusica(this)">
</div>

<audio id="audio"></audio>

<script>
/* GALAXIA */
const canvas = document.getElementById("galaxia");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

const estrellas = [];
for (let i = 0; i < 600; i++) {
  estrellas.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    z: Math.random() * canvas.width
  });
}

function animar() {
  ctx.fillStyle = "black";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  const cx = canvas.width / 2;
  const cy = canvas.height / 2;

  for (let e of estrellas) {
    e.z -= 2;
    if (e.z <= 0) e.z = canvas.width;

    const k = 128 / e.z;
    const px = (e.x - cx) * k + cx;
    const py = (e.y - cy) * k + cy;

    if (px >= 0 && px <= canvas.width && py >= 0 && py <= canvas.height) {
      const size = (1 - e.z / canvas.width) * 2;
      ctx.fillStyle = "white";
      ctx.fillRect(px, py, size, size);
    }
  }
  requestAnimationFrame(animar);
}
animar();

/* CORAZONES */
function crearCorazon() {
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = "üíö";
  h.style.left = Math.random() * 100 + "vw";
  h.style.bottom = "-30px";
  h.style.fontSize = 16 + Math.random() * 20 + "px";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 8000);
}
setInterval(crearCorazon, 400);

/* MUSICA */
const audio = document.getElementById("audio");
function cargarMusica(input) {
  audio.src = URL.createObjectURL(input.files[0]);
}
</script>

</body>
</html>
